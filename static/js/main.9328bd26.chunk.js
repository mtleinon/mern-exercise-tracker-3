(this["webpackJsonpmern-exercise-tracker"]=this["webpackJsonpmern-exercise-tracker"]||[]).push([[0],{134:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(27),c=a.n(l),u=a(17),s=a(19);a(69);function m(){return r.a.createElement("nav",{className:"navbar navbar-dark bg-dark navbar-expand-lg"},r.a.createElement(u.b,{to:"/",className:"navbar-brand"},"ExcerTracker"),r.a.createElement("div",{className:"collpase navbar-collapse"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"navbar-item"},r.a.createElement(u.b,{to:"/",className:"nav-link"},"Exercises")),r.a.createElement("li",{className:"navbar-item"},r.a.createElement(u.b,{to:"/create",className:"nav-link"},"Create Exercise log")),r.a.createElement("li",{className:"navbar-item"},r.a.createElement(u.b,{to:"/user",className:"nav-link"},"Create User")))))}var o=a(6),i=a(10),d=a.n(i),E="https://exercise-tracker-mika-3.herokuapp.com",p=function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.exercise.username),r.a.createElement("td",null,e.exercise.description),r.a.createElement("td",null,e.exercise.duration),r.a.createElement("td",null,e.exercise.date.substring(0,10)),r.a.createElement("td",null,r.a.createElement(u.b,{to:"/edit/"+e.exercise._id},"edit")," | ",r.a.createElement("a",{href:"#",onClick:function(){e.deleteExercise(e.exercise._id)}},"delete")))};function f(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],l=t[1];Object(n.useEffect)((function(){d.a.get(E+"/exercises/").then((function(e){console.log("response.data =",e.data),l(e.data)}))}),[]);return r.a.createElement("div",null,r.a.createElement("h3",null,"Logged Exercises"),r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Duration"),r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,a.map((function(e){return r.a.createElement(p,{key:e._id,exercise:e,deleteExercise:function(){return t=e._id,d.a.delete(E+"/exercises/"+t).then((function(e){return console.log("delete exercise",e.data)})),void l((function(e){return e.filter((function(e){return e._id!==t}))}));var t}})})))))}var b=a(28),v=a.n(b);a(40);function g(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),l=a[0],c=a[1],u=Object(n.useState)([]),s=Object(o.a)(u,2),m=s[0],i=s[1],p=Object(n.useState)(""),f=Object(o.a)(p,2),b=f[0],g=f[1],h=Object(n.useState)(""),x=Object(o.a)(h,2),N=x[0],j=x[1],O=Object(n.useState)(new Date),y=Object(o.a)(O,2),k=y[0],C=y[1],D=Object(n.useRef)();Object(n.useEffect)((function(){d.a.get(E+"/exercises/"+e.match.params.id).then((function(e){c(e.data.username),g(e.data.description),j(e.data.duration),C(new Date(e.data.date))})),d.a.get(E+"/users/").then((function(e){e.data.length>0&&i(e.data.map((function(e){return e.username})))}))}),[e.match.params.id]);return r.a.createElement("div",null,r.a.createElement("h3",null,"Edit exercise log"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a={username:l,description:b,duration:N,date:k};d.a.post(E+"/exercises/update/"+e.match.params.id,a).then((function(e){return console.log("res.data",e.data)})),e.history.push("/"),console.log("update =",E+"/exercises/update/"+e.match.params.id),console.log("exercise =",a)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Username: "),r.a.createElement("select",{ref:D,required:!0,className:"form-control",value:l,onChange:function(e){return c(e.target.value)}},m.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Description:"),r.a.createElement("input",{type:"text",required:!0,className:"form-control",value:b,onChange:function(e){return g(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Duration min:"),r.a.createElement("input",{type:"number",required:!0,className:"form-control",value:N,onChange:function(e){return j(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Date:"),r.a.createElement(v.a,{type:"text",selected:k,className:"form-control",onChange:function(e){return C(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Edit Exercise log",className:"btn btn-primary"}))))}function h(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),l=a[0],c=a[1],u=Object(n.useState)([]),s=Object(o.a)(u,2),m=s[0],i=s[1],p=Object(n.useState)(""),f=Object(o.a)(p,2),b=f[0],g=f[1],h=Object(n.useState)(""),x=Object(o.a)(h,2),N=x[0],j=x[1],O=Object(n.useState)(new Date),y=Object(o.a)(O,2),k=y[0],C=y[1],D=Object(n.useRef)();Object(n.useEffect)((function(){d.a.get(E+"/users/").then((function(e){e.data.length>0&&(i(e.data.map((function(e){return e.username}))),c(e.data[0].username))}))}),[]);return r.a.createElement("div",null,r.a.createElement("h3",null,"Create new exercise log"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a={username:l,description:b,duration:N,date:k};d.a.post(E+"/exercises/add",a).then((function(e){return console.log("res.data",e.data)})),e.history.push("/"),console.log("exercise =",a)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Username: "),r.a.createElement("select",{ref:D,required:!0,className:"form-control",value:l,onChange:function(e){return c(e.target.value)}},m.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Description:"),r.a.createElement("input",{type:"text",required:!0,className:"form-control",value:b,onChange:function(e){return g(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Duration min:"),r.a.createElement("input",{type:"number",required:!0,className:"form-control",value:N,onChange:function(e){return j(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Date:"),r.a.createElement(v.a,{type:"text",selected:k,className:"form-control",onChange:function(e){return C(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Create Exercise",className:"btn btn-primary"}))))}function x(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],l=t[1];return r.a.createElement("div",null,r.a.createElement("h3",null,"Create New User"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log("username =",a),d.a.post(E+"/users/add",{username:a}).then((function(e){return console.log("res.data",e.data)})),l("")}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",required:!0,className:"form-control",value:a,onChange:function(e){return l(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Create User",className:"btn btn-primary"}))))}var N=function(){return r.a.createElement(u.a,{basename:"/mern-exercise-tracker-3/"},r.a.createElement("div",{className:"container"},r.a.createElement(m,null),r.a.createElement("br",null),r.a.createElement(s.a,{path:"/",exact:!0,component:f}),r.a.createElement(s.a,{path:"/edit/:id",component:g}),r.a.createElement(s.a,{path:"/create",component:h}),r.a.createElement(s.a,{path:"/user",component:x})))};c.a.render(r.a.createElement(N,null),document.getElementById("root"))},64:function(e,t,a){e.exports=a(134)}},[[64,1,2]]]);
//# sourceMappingURL=main.9328bd26.chunk.js.map